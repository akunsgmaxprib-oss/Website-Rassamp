<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rassamp Store</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      color: white;
      overflow-x: hidden;
    }
    /* Background pelangi animasi */
    body {
      background: linear-gradient(270deg, #ff0080, #ff8c00, #40e0d0, #8a2be2, #ff0000);
      background-size: 1000% 1000%;
      animation: rainbow 15s ease infinite;
    }
    @keyframes rainbow {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }

    header {
      text-align: center;
      padding: 30px;
      font-size: 28px;
      font-weight: bold;
      text-shadow: 0px 0px 15px black;
    }

    /* Intro */
    #intro {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      z-index: 9999;
      animation: fadeOut 3s ease forwards;
      animation-delay: 3s;
    }
    #intro h1 {
      font-size: 40px;
      background: linear-gradient(to right, #ff0080, #40e0d0, #ff8c00);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: glow 1.5s infinite alternate;
    }
    @keyframes glow {
      from {text-shadow: 0 0 10px #fff;}
      to {text-shadow: 0 0 30px #ff0080;}
    }
    @keyframes fadeOut {
      to {opacity: 0; visibility: hidden;}
    }

    .product-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      padding: 20px;
    }
    .product {
      background: rgba(0,0,0,0.6);
      padding: 15px;
      border-radius: 15px;
      text-align: center;
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .product:hover {
      transform: scale(1.05);
      box-shadow: 0 0 20px white;
    }
    .product h3 {
      margin: 10px 0;
    }
    .btn-beli {
      background: linear-gradient(45deg, #ff0080, #ff8c00);
      border: none;
      padding: 10px 20px;
      color: white;
      font-weight: bold;
      border-radius: 25px;
      cursor: pointer;
      transition: 0.3s;
    }
    .btn-beli:hover {
      transform: scale(1.1);
      background: linear-gradient(45deg, #40e0d0, #8a2be2);
    }

    /* Login admin */
    #adminLoginBtn {
      position: absolute;
      top: 10px; right: 10px;
      padding: 8px 15px;
      background: black;
      border: 2px solid white;
      border-radius: 8px;
      cursor: pointer;
      color: white;
    }
    #adminPanel {
      display: none;
      background: rgba(0,0,0,0.8);
      padding: 15px;
      border-radius: 15px;
      margin: 20px;
    }
    #adminPanel input, #adminPanel select {
      margin: 5px 0;
      padding: 5px;
      border-radius: 5px;
      border: none;
    }
    .edit-btn, .delete-btn {
      margin: 5px;
      padding: 5px 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      color: white;
    }
    .edit-btn {background: #007bff;}
    .delete-btn {background: #dc3545;}

    /* Tombol kontrol musik */
    #musicControl {
      position: fixed;
      bottom: 15px;
      right: 15px;
      padding: 10px 15px;
      background: rgba(0,0,0,0.7);
      border: 2px solid #fff;
      border-radius: 8px;
      cursor: pointer;
      color: #fff;
      font-size: 14px;
      z-index: 10000;
    }
  </style>
</head>
<body>
  <!-- Intro -->
  <div id="intro">
    <h1>‚ú® RassampXStory ‚ú®</h1>
  </div>

  <!-- Header -->
  <header>
    üåêMenu Produk host dan jasa sampüåê
    <button id="adminLoginBtn">Login Admin</button>
  </header>

  <!-- Produk -->
  <div class="product-container" id="productList">
    <div class="product">
      <h3>Hosting Paket SD</h3>
      <p>CPU: 80%<br>RAM: 5GB<br>Slot: 25<br>Linux/Windows<br>Harga: 5k</p>
      <button class="btn-beli" onclick="beliProduk('Hosting Paket SD')">üí∏ Beli</button>
    </div>
    <div class="product">
      <h3>Hosting Paket SMP</h3>
      <p>CPU: 120%<br>RAM: 10GB<br>Slot: 50<br>Wine/Linux<br>Harga: 10k</p>
      <button class="btn-beli" onclick="beliProduk('Hosting Paket SMP')">üí∏ Beli</button>
    </div>
    <div class="product">
      <h3>Jasa Rename Server</h3>
      <p>Harga: 2k</p>
      <button class="btn-beli" onclick="beliProduk('Jasa Rename Server')">üí∏ Beli</button>
    </div>
    <div class="product">
      <h3>Jasa On Server + GM</h3>
      <p>Harga: 5k</p>
      <button class="btn-beli" onclick="beliProduk('Jasa On Server + GM')">üí∏ Beli</button>
    </div>
    <div class="product">
      <h3>Jasa Pasang Mapping</h3>
      <p>Harga: 2k</p>
      <button class="btn-beli" onclick="beliProduk('Jasa Pasang Mapping')">üí∏ Beli</button>
    </div>
  </div>

  <!-- Panel Admin -->
  <div id="adminPanel">
    <h2>‚öôÔ∏è Panel Admin</h2>
    <input type="text" id="newProductName" placeholder="Nama Produk"><br>
    <input type="text" id="newProductDesc" placeholder="Deskripsi/Harga"><br>
    <button onclick="addProduct()">Tambah Produk</button><br><br>

    <label>üéµ Ganti Lagu: </label>
    <input type="text" id="songUrl" placeholder="URL lagu...">
    <button onclick="changeSong()">Ganti</button><br><br>

    <label>üåà Atur Warna Background:</label>
    <input type="color" id="bgColorPicker" onchange="changeBackgroundColor(this.value)">
  </div>

  <!-- Lagu background -->
  <audio id="bgMusic" autoplay loop>
    <source src="http://f.top4top.io/m_3539ttefq1.mp3" type="audio/mpeg">
  </audio>

  <!-- Tombol Play/Pause Musik -->
  <button id="musicControl">‚è∏ Pause Musik</button>

  <script>
    function beliProduk(nama) {
      alert("Kamu akan membeli: " + nama);
      window.open("https://wa.me/6285797123671?text=Halo%20saya%20ingin%20beli%20" + encodeURIComponent(nama));
    }

    // Login Admin
    document.getElementById("adminLoginBtn").addEventListener("click", function() {
      let pw = prompt("Masukkan password admin:");
      if (pw === "2011") {
        alert("Login berhasil!");
        document.getElementById("adminPanel").style.display = "block";
      } else {
        alert("Password salah!");
      }
    });

    // Tambah produk
    function addProduct() {
      let name = document.getElementById("newProductName").value;
      let desc = document.getElementById("newProductDesc").value;
      if (!name || !desc) { alert("Isi data produk!"); return; }

      let productList = document.getElementById("productList");
      let div = document.createElement("div");
      div.className = "product";
      div.innerHTML = `
        <h3>${name}</h3>
        <p>${desc}</p>
        <button class="btn-beli" onclick="beliProduk('${name}')">üí∏ Beli</button>
      `;
      productList.appendChild(div);
      alert("Produk ditambahkan!");
    }

    // Ganti lagu
    function changeSong() {
      let url = document.getElementById("songUrl").value;
      if (url) {
        document.getElementById("bgMusic").src = url;
        document.getElementById("bgMusic").play();
        alert("Lagu diganti!");
      }
    }

    // Ganti background
    function changeBackgroundColor(color) {
      document.body.style.background = color;
    }

    // Play / Pause Musik
    const bgMusic = document.getElementById("bgMusic");
    const musicBtn = document.getElementById("musicControl");

    musicBtn.addEventListener("click", () => {
      if (bgMusic.paused) {
        bgMusic.play();
        musicBtn.textContent = "‚è∏ Pause Musik";
      } else {
        bgMusic.pause();
        musicBtn.textContent = "‚ñ∂Ô∏è Play Musik";
      }
    });
  </script>
<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-database.js"></script>

<div class="rating-section">
  <h2>‚≠ê Beri Rating</h2>
  <div id="starContainer">
    <span onclick="setRating(1)">‚≠ê</span>
    <span onclick="setRating(2)">‚≠ê</span>
    <span onclick="setRating(3)">‚≠ê</span>
    <span onclick="setRating(4)">‚≠ê</span>
    <span onclick="setRating(5)">‚≠ê</span>
  </div>
  <p id="thanksMsg" style="display:none; color:lightgreen;">‚úÖ Terima kasih atas ratingnya!</p>
  <h3>üìä Rata-rata Rating: <span id="avgRating">0</span>/5</h3>
</div>

<script type="module">
  // üîπ Konfigurasi Firebase (isi sesuai project kamu)
  const firebaseConfig = {
    apiKey: "API_KEY_KAMU",
    authDomain: "NAMA_PROJECT.firebaseapp.com",
    databaseURL: "https://NAMA_PROJECT.firebaseio.com",
    projectId: "NAMA_PROJECT",
    storageBucket: "NAMA_PROJECT.appspot.com",
    messagingSenderId: "ID_PENGIRIM",
    appId: "APP_ID"
  };

  const app = firebase.initializeApp(firebaseConfig);
  const database = firebase.database();

  // Simpan rating
  function setRating(star) {
    firebase.database().ref("ratings").push(star);
    document.getElementById("thanksMsg").style.display = "block";
  }

  // Hitung rata-rata rating
  firebase.database().ref("ratings").on("value", function(snapshot) {
    let ratings = snapshot.val();
    if (!ratings) return;
    let total = 0, count = 0;
    for (let key in ratings) {
      total += parseInt(ratings[key]);
      count++;
    }
    let avg = (total / count).toFixed(1);
    document.getElementById("avgRating").innerText = avg;
  });
</script>

<style>
  .rating-section {
    background: rgba(0,0,0,0.7);
    padding: 20px;
    margin: 20px;
    border-radius: 10px;
    text-align: center;
  }
  #starContainer span {
    font-size: 40px;
    cursor: pointer;
    transition: transform 0.2s;
  }
  #starContainer span:hover {
    transform: scale(1.3);
  }
</style>